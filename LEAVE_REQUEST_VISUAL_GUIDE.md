# ğŸ“– Leave Request Management - Visual Guide

## User Interface Overview

### Manager Dashboard Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Manager Dashboard                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ“Š Overview] [ğŸ‘¥ Employees] [ğŸ“‹ Leave Requests] [ğŸ“Š Attendance]
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                       â”‚
â”‚  Leave Requests - Team                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Employee â”‚ Leave â”‚ Start  â”‚ End   â”‚ Reason â”‚ â”‚  â”‚
â”‚  â”‚          â”‚ Type  â”‚ Date   â”‚ Date  â”‚        â”‚ â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ Raj      â”‚ ğŸ”µ    â”‚ Jan 15 â”‚ Jan 17â”‚ Family â”‚ â”‚  â”‚
â”‚  â”‚          â”‚ Annualâ”‚        â”‚       â”‚ Visit  â”‚ â”‚  â”‚
â”‚  â”‚          â”‚       â”‚        â”‚       â”‚        â”‚ â”‚  â”‚
â”‚  â”‚ Status   â”‚ Actions                         â”‚ â”‚  â”‚
â”‚  â”‚ ğŸŸ        â”‚ âœ“ Approve    âœ• Reject         â”‚ â”‚  â”‚
â”‚  â”‚ pending  â”‚                                 â”‚ â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ Priya    â”‚ ğŸŸ     â”‚ Feb 5  â”‚ Feb 5 â”‚ Sick   â”‚ â”‚  â”‚
â”‚  â”‚ Sick     â”‚       â”‚        â”‚       â”‚ Leave  â”‚ â”‚  â”‚
â”‚  â”‚ ğŸŸ¢ approved                                â”‚ â”‚  â”‚
â”‚  â”‚ (approved on Jan 10, 2024)                 â”‚ â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ Arjun    â”‚ ğŸ”µ    â”‚ Feb 20 â”‚ Feb 20â”‚ Dentistâ”‚ â”‚  â”‚
â”‚  â”‚ Personal â”‚       â”‚        â”‚       â”‚        â”‚ â”‚  â”‚
â”‚  â”‚ ğŸ”´ rejected                                â”‚ â”‚  â”‚
â”‚  â”‚ Reason: Not approved due to year-end     â”‚ â”‚  â”‚
â”‚  â”‚ project launch                             â”‚ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Rejection Modal Workflow

### Step 1: Click Reject Button
```
Table shows pending requests
       â†“
User sees "âœ• Reject" button
       â†“
User clicks "âœ• Reject"
```

### Step 2: Modal Appears
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     âŒ  (Click X to close)              â”‚
â”‚                                        â”‚
â”‚  Reject Leave Request                 â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”      â”‚
â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Enter reason for rejection...    â”‚ â”‚
â”‚  â”‚                                  â”‚ â”‚
â”‚  â”‚ _____________________________     â”‚ â”‚
â”‚  â”‚ _____________________________     â”‚ â”‚
â”‚  â”‚ _____________________________     â”‚ â”‚
â”‚  â”‚ _____________________________     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚
â”‚  [  Reject  ]  [  Cancel  ]           â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Step 3: Enter Reason
```
Manager types in textarea:
"Project launch scheduled for Feb 25,
need your presence in the office."
```

### Step 4: Submit or Cancel
```
If "Reject" clicked:
  â†’ Database updates with rejection
  â†’ Modal closes
  â†’ Table refreshes
  â†’ Green success toast shows
  â†’ Reason displays in table

If "Cancel" clicked:
  â†’ Modal closes
  â†’ Reason discarded
  â†’ Table unchanged
```

## Status Color Legend

| Badge | Status | Color | Action Visible |
|-------|--------|-------|----------------|
| ğŸŸ  | pending | Orange | YES - Approve/Reject |
| ğŸŸ¢ | approved | Green | NO - Status only |
| ğŸ”´ | rejected | Red | NO - Shows reason |

## Table Column Details

### Employee Column
```
Shows full name from users table
Example: "Raj Kumar"
```

### Leave Type Column
```
Leave type with colored badge
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”µ Annual   â”‚
â”‚   Leave     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Dates Columns
```
Formatted as locale date
Example: "1/15/2024"
```

### Reason Column
```
Text reason provided by employee
Truncated if too long (max-w-xs)
Example: "Family visit to hometown"
```

### Status Column
```
Colored badge with status text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŸ  pending  â”‚    â”‚ ğŸŸ¢ approvedâ”‚    â”‚ ğŸ”´ rejected â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Actions Column

**For Pending Requests:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ“ Approve  âœ• Reject     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Clickable green and red buttons
```

**For Rejected Requests:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Reason:                  â”‚
â”‚ Not approved due to      â”‚
â”‚ year-end project launch  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Small red text showing reason
```

**For Approved Requests:**
```
(No action buttons)
Request is read-only
```

## Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Manager Dashboard Loads                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                           â†“                              â”‚
â”‚      fetchManagerData() - Get Manager's Department       â”‚
â”‚                           â†“                              â”‚
â”‚     Query: users WHERE id = manager_id                  â”‚
â”‚     Result: department_id = "dept-123"                  â”‚
â”‚                           â†“                              â”‚
â”‚   Query: users WHERE department_id = "dept-123"        â”‚
â”‚   Result: Array of team members (5 employees)           â”‚
â”‚                           â†“                              â”‚
â”‚  Query: leave_requests WHERE user_id IN (team_ids)     â”‚
â”‚  Result: 3 leave requests                               â”‚
â”‚                           â†“                              â”‚
â”‚   JOIN with users table for employee names              â”‚
â”‚                           â†“                              â”‚
â”‚        Render Leave Requests Table                       â”‚
â”‚                           â†“                              â”‚
â”‚     User Clicks Approve or Reject Button                â”‚
â”‚           â†™â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•²                â”‚
â”‚          â†™                              â†˜               â”‚
â”‚     APPROVE                           REJECT             â”‚
â”‚         â†“                               â†“                â”‚
â”‚  Update SQL:              Show Modal Dialog              â”‚
â”‚  UPDATE                   Wait for Reason Input          â”‚
â”‚  leave_requests           User Enters Reason             â”‚
â”‚  SET status='approved'    Click Reject Button            â”‚
â”‚  approved_by=user_id      â†“                              â”‚
â”‚  approved_at=NOW()        Update SQL:                    â”‚
â”‚         â†“                 UPDATE                         â”‚
â”‚  Toast: "Approved"        leave_requests                 â”‚
â”‚         â†“                 SET status='rejected'          â”‚
â”‚  Refresh Table            rejection_reason=input        â”‚
â”‚                           approved_by=user_id           â”‚
â”‚                           approved_at=NOW()             â”‚
â”‚                           â†“                              â”‚
â”‚                           Toast: "Rejected"             â”‚
â”‚                           â†“                              â”‚
â”‚                           Close Modal                     â”‚
â”‚                           â†“                              â”‚
â”‚                           Refresh Table                   â”‚
â”‚                                                           â”‚
â”‚         Table Now Shows Updated Status                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Approval Timeline Example

```
Employee creates request: Jan 10, 2024 10:30 AM
                    â†“
Status: ğŸŸ  pending
                    â†“
Manager approves: Jan 11, 2024 2:15 PM
                    â†“
Status: ğŸŸ¢ approved
Details: Approved by Manager ID xyz on Jan 11, 2024
                    â†“
Employee sees approval in Leave History
```

## Rejection Timeline Example

```
Employee creates request: Feb 1, 2024 9:00 AM
                    â†“
Status: ğŸŸ  pending
                    â†“
Manager clicks Reject: Feb 1, 2024 4:45 PM
                    â†“
Manager enters reason: "Budget constraints for this quarter"
                    â†“
Manager clicks Reject button
                    â†“
Status: ğŸ”´ rejected
Details: 
- Rejected by Manager ID xyz on Feb 1, 2024
- Reason: "Budget constraints for this quarter"
                    â†“
Employee sees rejection with reason in Leave History
```

## Modal Interaction States

### 1. Closed State
Modal is not visible
```
Table displays normally
```

### 2. Open State - Empty
Modal open, no text entered
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Reject Leave Request     â”‚
â”‚                          â”‚
â”‚ [empty textarea]         â”‚
â”‚                          â”‚
â”‚ [Reject DISABLED] [Cancel]
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Reject button is grayed out/disabled
```

### 3. Open State - With Text
Modal open, reason entered
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Reject Leave Request     â”‚
â”‚                          â”‚
â”‚ "Budget constraints"     â”‚
â”‚ "for this quarter"       â”‚
â”‚                          â”‚
â”‚ [Reject ENABLED] [Cancel]
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Reject button is bright red and clickable
```

### 4. Closed After Rejection
Modal closes, table updates
```
Previous pending request now shows:
Status: ğŸ”´ rejected
Reason: "Budget constraints for this quarter"
```

## Responsive Design

### Desktop View
```
Full table with all columns visible
Leave Request Type | Start Date | End Date | Reason | Status | Actions
All in one row
```

### Tablet View
```
Horizontal scroll on table
Reason column truncated with ellipsis (...)
Actions buttons slightly smaller
Modal centered on screen
```

### Mobile View
```
Heavy horizontal scroll for table
All columns preserved
Modal takes 90% of screen width
Buttons stack or reduce padding
Reason text truncated more aggressively
```

## Error States

### No Leave Requests
```
Table shows:
"No leave requests"
Empty state message
```

### Department Not Set
```
Toast Error: "Manager department not set"
Table remains empty
```

### API Error During Approval
```
Toast Error: "Failed to approve leave request"
Button re-enabled
Table unchanged
```

### API Error During Rejection
```
Toast Error: "Failed to reject leave request"
Modal remains open
Reason text preserved
User can retry
```

## Success Feedback

### Successful Approval
```
âœ“ Toast appears: "âœ“ Leave request approved!"
âœ“ Table refreshes immediately
âœ“ Request status changes to ğŸŸ¢ approved
âœ“ Approve/Reject buttons disappear
âœ“ Toast auto-dismisses after 3 seconds
```

### Successful Rejection
```
âœ“ Toast appears: "âœ• Leave request rejected"
âœ“ Modal closes automatically
âœ“ Rejection reason cleared
âœ“ Table refreshes immediately
âœ“ Request status changes to ğŸ”´ rejected
âœ“ Rejection reason displays in Actions
âœ“ Toast auto-dismisses after 3 seconds
```

---

This visual guide helps understand the complete user experience of the leave request management feature.
